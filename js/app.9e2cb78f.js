(function(t){function e(e){for(var n,i,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/galago-test-task/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"064a":function(t,e,a){},"1c0c":function(t,e,a){"use strict";var n=a("c4c5"),s=a.n(n);s.a},"2f80":function(t){t.exports=JSON.parse('{"users":[{"id":1,"registration":"20.08.2020","date":"11.03.1987","name":"Куклина Мария Ивановна","email":"kyklina@mail.ru","phone":"+79223625999","distance":5,"payment":500},{"id":2,"registration":"14.08.2020","date":"8.05.1997","name":"Мокрушина Галина Юрьевна","email":"mokrushina@mail.ru","phone":"+79881125999","distance":10,"payment":300},{"id":3,"registration":"12.09.2020","date":"24.01.1976","name":"Марина Сергеевна Заводская","email":"olga.zavodckaia@mail.ru","phone":"+79008011000","distance":3,"payment":1500}]}')},"390d":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2d26"),a("96cf");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"run-wrapper",attrs:{id:"app"}},[a("MainPage")],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"run"},[a("div",{staticClass:"run__row"},[t._m(0),a("div",{staticClass:"run__col col__right"},[a("MainForm",{attrs:{"add-user":this.addUserInTable}})],1)]),a("h2",{directives:[{name:"show",rawName:"v-show",value:t.countUsers>0,expression:"countUsers > 0"}],staticClass:"run__title_h2"},[t._v(" С нами уже "+t._s(t._f("usersDeclension")(t.countUsers))+" ")]),a("div",{staticClass:"run_row run__row-table"},[a("MainUsersTable",{attrs:{users:t.usersForTable,"buttons-table":this.sortButtons,"sort-table":this.sortUsers}}),this.countUsers>this.usersPerPage?a("AppPagination",{attrs:{page:t.page,count:t.countUsers,perPage:t.usersPerPage,limit:t.limitPagination},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1),t.isIE10?a("style",{tag:"component"},[t._v(" .headers__item { display: flex !important; justify-content: flex-start !important; align-items: center !important; } .row__item, .headers__item { width: 10% !important; } .header__btn-sort { padding: 0 11% 0 0 !important; } ")]):t._e()],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"run__col col__left"},[n("h1",{staticClass:"run__title_h1"},[t._v(" Марафон в поддержку детей ")]),n("img",{staticClass:"run__title-img",attrs:{src:a("ca53"),alt:""}})])}],l=(a("4de4"),a("c975"),a("ac1f"),a("1276"),a("5530")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"run__table"},[a("div",{staticClass:"table__headers"},t._l(t.buttonsTable,(function(e){return a("TableButton",{key:e.title,staticClass:"headers__item",attrs:{param:e,"sort-table":t.sortTable}})})),1),a("transition-group",{attrs:{name:"fade"}},t._l(t.users,(function(e){return a("div",{key:e.id,staticClass:"table__row"},[a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.registration)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.date)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.email)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.phone)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.distance)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.payment)+" ")])])})),0)],1)},u=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.sortId?a("button",{staticClass:"header__btn-sort",class:{smallest:this.isSmallest,largest:this.isLargest},attrs:{type:"button",name:"button"},on:{click:function(e){return e.preventDefault(),t.sortTable(t.sortId)}}},[t._v(" "+t._s(this.title)+" ")]):a("span",[t._v(" "+t._s(this.title)+" ")])},p=[],m={name:"MainUsersTableButton",props:["param","sortTable"],computed:{title:function(){return this.param.title},sortId:function(){return this.param.sortId},default:function(){return this.param.default},isSmallest:function(){return this.param.smallest},isLargest:function(){return this.param.largest}}},f=m,_=a("2877"),h=Object(_["a"])(f,d,p,!1,null,null,null),g=h.exports,v={name:"MainUsersTable",props:["users","buttonsTable","sortTable"],components:{TableButton:g}},b=v,k=(a("ff6d"),Object(_["a"])(b,c,u,!1,null,null,null)),C=k.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pages>t.limit?a("ul",{staticClass:"pagination"},[a("li",{staticClass:"pagination__item"},[a("button",{class:{disabled:t.isClickablePrev},attrs:{type:"button","aria-label":"Предыдущая страница"},on:{click:function(e){return e.preventDefault(),t.prevPage(e)}}},[a("svg",{attrs:{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M0.646447 3.64645C0.451185 3.84171 0.451185 4.15829 0.646447 4.35355L3.82843\n    7.53553C4.02369 7.7308 4.34027 7.7308 4.53553 7.53553C4.7308 7.34027 4.7308 7.02369 4.53553\n    6.82843L1.70711 4L4.53553 1.17157C4.7308 0.976311 4.7308 0.659728 4.53553 0.464466C4.34027\n    0.269204 4.02369 0.269204 3.82843 0.464466L0.646447 3.64645ZM2 3.5H1V4.5H2V3.5Z",fill:"black"}})])])]),a("li",{staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",class:{pagination__link_current:1===t.page},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.paginate(1)}}},[t._v(" 1 ")])]),t._m(0),t._l(t.currentPageNears,(function(e){return a("li",{key:e,staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",class:{pagination__link_current:e===t.page},attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.paginate(e)}}},[t._v(" "+t._s(e)+" ")])])})),t._m(1),a("li",{staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",class:{pagination__link_current:t.pages===t.page},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.paginate(t.pages)}}},[t._v(" "+t._s(t.pages)+" ")])]),a("li",{staticClass:"pagination__item"},[a("button",{class:{"pagination__link--disabled":t.isClickableNext},attrs:{"aria-label":"Следующая страница"},on:{click:function(e){return e.preventDefault(),t.nextPage(e)}}},[a("svg",{attrs:{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M4.35355 3.64645C4.54882 3.84171 4.54882 4.15829 4.35355 4.35355L1.17157\n    7.53553C0.976311 7.7308 0.659728 7.7308 0.464466 7.53553C0.269204 7.34027 0.269204\n    7.02369 0.464466 6.82843L3.29289 4L0.464466 1.17157C0.269204 0.976311 0.269204 0.659728\n    0.464466 0.464466C0.659728 0.269204 0.976311 0.269204 1.17157 0.464466L4.35355 3.64645ZM3\n    3.5H4V4.5H3V3.5Z",fill:"black"}})])])])],2):a("ul",{staticClass:"pagination"},[a("li",{staticClass:"pagination__item"},[a("button",{class:{disabled:t.isClickablePrev},attrs:{type:"button","aria-label":"Предыдущая страница"},on:{click:function(e){return e.preventDefault(),t.prevPage(e)}}},[a("svg",{attrs:{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M0.646447 3.64645C0.451185 3.84171 0.451185 4.15829 0.646447 4.35355L3.82843\n      7.53553C4.02369 7.7308 4.34027 7.7308 4.53553 7.53553C4.7308 7.34027 4.7308 7.02369 4.53553\n      6.82843L1.70711 4L4.53553 1.17157C4.7308 0.976311 4.7308 0.659728 4.53553 0.464466C4.34027\n      0.269204 4.02369 0.269204 3.82843 0.464466L0.646447 3.64645ZM2 3.5H1V4.5H2V3.5Z",fill:"black"}})])])]),t._l(t.pages,(function(e){return a("li",{key:e,staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",class:{pagination__link_current:e===t.page},attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.paginate(e)}}},[t._v(" "+t._s(e)+" ")])])})),a("li",{staticClass:"pagination__item"},[a("button",{class:{"pagination__link--disabled":t.isClickableNext},attrs:{"aria-label":"Следующая страница"},on:{click:function(e){return e.preventDefault(),t.nextPage(e)}}},[a("svg",{attrs:{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M4.35355 3.64645C4.54882 3.84171 4.54882 4.15829 4.35355 4.35355L1.17157\n      7.53553C0.976311 7.7308 0.659728 7.7308 0.464466 7.53553C0.269204 7.34027 0.269204\n      7.02369 0.464466 6.82843L3.29289 4L0.464466 1.17157C0.269204 0.976311 0.269204 0.659728\n      0.464466 0.464466C0.659728 0.269204 0.976311 0.269204 1.17157 0.464466L4.35355 3.64645ZM3\n      3.5H4V4.5H3V3.5Z",fill:"black"}})])])])],2)},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"pagination__item"},[a("span",{staticClass:"pagination__link"},[t._v(" ... ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"pagination__item"},[a("span",{staticClass:"pagination__link"},[t._v(" ... ")])])}],y={model:{prop:"page",event:"paginate"},props:["page","count","perPage","limit"],computed:{pages:function(){return Math.ceil(this.count/this.perPage)},currentPageNears:function(){if(this.page>1&&this.page<this.pages){var t=[],e=this.page-1,a=this.page,n=this.page+1;return a>1&&a<this.pages&&t.push(a),e>1&&n<this.pages?(t.unshift(e),t.push(n)):e>1?(t.unshift(e),t.unshift(e-1)):(t.push(n),t.push(n+1)),t}var s=Math.ceil(this.pages/2);return[s-1,s,s+1]},isClickablePrev:function(){return!this.count||1===this.page},isClickableNext:function(){return!this.count||this.page===this.pages}},methods:{paginate:function(t){this.$emit("paginate",t)},prevPage:function(){this.isClickablePrev||this.$emit("paginate",this.page-1)},nextPage:function(){this.isClickableNext||this.$emit("paginate",this.page+1)}}},x=y,P=(a("dba4"),Object(_["a"])(x,w,D,!1,null,null,null)),O=P.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"run__form-container"},[a("form",{staticClass:"run__form",on:{submit:function(e){return e.preventDefault(),t.sendForm(e)}}},[a("BaseFormText",{staticClass:"hidden",attrs:{type:"hidden"},model:{value:t.formData.registration,callback:function(e){t.$set(t.formData,"registration",e)},expression:"formData.registration"}}),a("div",{staticClass:"run__form-row"},[a("BaseFormText",{attrs:{title:"ФИО",placeholder:"Ваше имя"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),a("BaseFormDate",{attrs:{title:"Дата рождения",placeholder:"11.03.1998"},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}}),a("BaseFormText",{attrs:{title:"Email",error:t.formError.email,placeholder:"Email"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),a("div",{staticClass:"run__form-row"},[a("BaseFormTel",{attrs:{title:"Телефон",placeholder:"Номер телефона"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}}),a("BaseFormSelect",{attrs:{title:"Дистанция, км",placeholder:"Выберите дистанцию",options:[3,5,10]},model:{value:t.formData.distance,callback:function(e){t.$set(t.formData,"distance",e)},expression:"formData.distance"}}),a("BaseFormText",{attrs:{title:"Сумма взноса, руб.",type:"number",min:"0",placeholder:"Сумма"},model:{value:t.formData.payment,callback:function(e){t.$set(t.formData,"payment",e)},expression:"formData.payment"}})],1),a("transition-group",{attrs:{name:"fade"}},[a("button",{key:1,staticClass:"form__submit",attrs:{disabled:t.buttonIsDisabled,type:"submit",name:"button"}},[t._v("Отправить заявку")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.userAdded,expression:"userAdded"}],key:2,staticClass:"form__success"},[t._v(" Вы попали в список участников ✓ ")])])],1)])},j=[],M=(a("4160"),a("d81d"),a("b64b"),a("d3b7"),a("5319"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseFormField",{attrs:{title:t.title,error:t.error}},["checkbox"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{placeholder:t.placeholder,min:t.min,type:"checkbox"},domProps:{checked:Array.isArray(t.dataValue)?t._i(t.dataValue,null)>-1:t.dataValue},on:{change:function(e){var a=t.dataValue,n=e.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);n.checked?i<0&&(t.dataValue=a.concat([r])):i>-1&&(t.dataValue=a.slice(0,i).concat(a.slice(i+1)))}else t.dataValue=s}}}):"radio"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{placeholder:t.placeholder,min:t.min,type:"radio"},domProps:{checked:t._q(t.dataValue,null)},on:{change:function(e){t.dataValue=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{placeholder:t.placeholder,min:t.min,type:t.type},domProps:{value:t.dataValue},on:{input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])}),$=[],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"form__label"},[a("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),t._t("default"),t.error?a("span",{staticClass:"form__error"},[t._v(" ❌ ")]):t._e()],2)},U=[],F={props:["title","error"]},S=F,E=Object(_["a"])(S,B,U,!1,null,null,null),T=E.exports,I={components:{BaseFormField:T},props:["title","error","placeholder","value","min"],computed:{dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},L={props:{type:{default:"text"},min:{default:""}},mixins:[I]},N=L,A=Object(_["a"])(N,M,$,!1,null,null,null),Z=A.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseFormField",{attrs:{title:t.title,error:t.error}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input form__select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.dataValue=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v(t._s(t.placeholder))]),t._l(t.options,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)])},J=[],z={props:{options:{default:function(){return[1,2,3]}}},mixins:[I]},Y=z,q=(a("d0b4"),Object(_["a"])(Y,H,J,!1,null,null,null)),G=q.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form__label"},[a("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),a("DatePicker",{attrs:{"input-class":"form__input",placeholder:t.placeholder,language:t.ru,"disabled-dates":this.disabledDates,"open-date":this.openDate},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}})],1)},Q=[],R=a("fa33"),W=a("2430"),X={name:"BaseFormDate",props:["title","placeholder","value"],components:{DatePicker:R["a"]},data:function(){return{ru:W["ru"]}},computed:{inputValue:function(){return this.value?new Date(this.value).toLocaleDateString():""},disabledDates:function(){var t=new Date,e=t.setFullYear(t.getFullYear()-16),a=new Date(e);return{from:a}},openDate:function(){var t=this.disabledDates.from;return new Date(t)},dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},tt=X,et=(a("1c0c"),Object(_["a"])(tt,K,Q,!1,null,null,null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"form__label input__tel"},[a("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.currentMask.content,expression:"currentMask.content"}],staticClass:"flags-font"},[t._v(" "+t._s(t.currentMask.content)+" ")]),a("input",{directives:[{name:"mask",rawName:"v-mask",value:t.currentMask.mask,expression:"currentMask.mask"},{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{type:"tel",placeholder:t.placeholder},domProps:{value:t.dataValue},on:{focus:t.onFocus,blur:t.onBlur,input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},st=[],rt=a("3a60"),it={id:"",mask:"+############",placeholder:"Номер телефона",pattern:/\d\d\d\d\d\d\d\d\d/,content:!1},ot=[{id:"start8",code:"8",mask:"8 (###) ###-####",placeholder:"8 (096) 894-99-27",pattern:/\d\d\d\d\d\d\d\d\d\d\d/,code_pattern:/^8.*$/g,content:""},{id:"ru",code:"+7",mask:"+7 (###) ###-##-##",placeholder:"+7 (952) 336-60-67",pattern:/\d\d\d\d\d\d\d\d\d\d\d/,code_pattern:/^\+7.*$/g,content:"🇷🇺"},{id:"ua",code:"+38",mask:"+38 (###) ###-####",placeholder:"+38 (096) 894-99-27",pattern:/\d\d\d\d\d\d\d\d\d\d\d\d/,code_pattern:/^\+38.*$/g,content:"🇺🇦"},{id:"by",code:"+375",mask:"+375 (##) ###-##-##",placeholder:"+375 (24) 602-24-25",pattern:/\d\d\d\d\d\d\d\d\d\d\d\d/,code_pattern:/^\+375.*$/g,content:"🇧🇾"},{id:"isr",code:"+972",mask:"+972 (###) ###-##-##",placeholder:"+972 (052) 342-49-04",pattern:/\d\d\d\d\d\d\d\d\d\d\d\d/,code_pattern:/^\+972.*$/g,content:"🇮🇱"},{id:"us",code:"+1",mask:"+1 (###) ###-##-##",placeholder:"+1 (212) 123-45-67",pattern:/\d\d\d\d\d\d\d\d\d\d/,code_pattern:/^\+1.*$/g,content:"🇺🇸"},{id:"lv",code:"+371",mask:"+371 (###) ##-##",placeholder:"+371 (212) 45-67",pattern:/\d\d\d\d\d\d\d\d\d\d/,code_pattern:/^\+371.*$/g,content:"🇱🇻"}],lt={name:"BaseFormTel",props:["title","placeholder","value"],directives:{mask:rt["mask"]},data:function(){return{focus:!1,currentMask:it,maskData:ot}},methods:{findMask:function(){var t=this;if(this.dataValue){var e=this.maskData.filter((function(e){return e.code_pattern.test(t.dataValue)}))[0];e&&(this.currentMask=e)}else this.currentMask=it},onFocus:function(){this.focus=!0},onBlur:function(){this.focus=!1;var t=this.dataValue.replace(/\D*/g,""),e=this.currentMask.pattern,a=e.test(t);a?this.$emit("input",t):(this.$emit("input",""),this.currentMask=it)}},computed:{dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},watch:{dataValue:function(){this.findMask()}}},ct=lt,ut=(a("b9b2"),Object(_["a"])(ct,nt,st,!1,null,null,null)),dt=ut.exports,pt=function(t){var e=/[A-Z0-9._%+-]+@[A-Z0-9-]+.\.[A-Z]{2,4}/gim;return!e.test(t)},mt={data:function(){return{formData:{date:"",name:"",email:"",phone:"",distance:"",payment:""},formError:{},userAdded:!1}},props:["addUser"],components:{BaseFormText:Z,BaseFormSelect:G,BaseFormDate:at,BaseFormTel:dt},methods:{sendForm:function(){var t=this;if(!this.formError.email){var e=Object(l["a"])({},this.formData);e.phone="+".concat(e.phone.replace(/\D*/g,"")),e.registration=new Date,this.addUser(e);var a=new Promise((function(e){Object.keys(t.formData).forEach((function(e){t.formData[e]=""})),e()}));a.then((function(){t.userAdded=!0})),this.formError={}}},checkMailValid:function(){this.formError.email=pt(this.formData.email)}},computed:{buttonIsDisabled:function(){var t=this.formDataItems.filter((function(t){return 0===t.length}));return Boolean(t.length||this.formError.email)},formDataItems:function(){var t=this;return Object.keys(this.formData).map((function(e){return t.formData[e]}))},formDataEmail:function(){return this.formData.email}},watch:{formDataEmail:function(){this.formData.email&&this.checkMailValid()},formDataItems:function(){this.userAdded=!1}}},ft=mt,_t=(a("dd24"),Object(_["a"])(ft,V,j,!1,null,null,null)),ht=_t.exports,gt=a("2f62"),vt=(a("99af"),function(t){var e=[2,0,1,1,1,2],a=["участник","участника","участников"][t%100>4&&t%100<20?2:e[t%10<5?t%10:5]];return"".concat(t," ").concat(a)}),bt={name:"MainPage",data:function(){return{page:1,usersPerPage:4,limitPagination:10}},filters:{usersDeclension:vt},methods:Object(l["a"])(Object(l["a"])({},Object(gt["b"])(["addUser","updateSort","sortUsers","loadUsersFromStorage"])),{},{addUserInTable:function(t){this.addUser(t),this.updateSort()},updateUsersPerPage:function(){var t=window.innerHeight;switch(!0){case t<=740:this.usersPerPage=3;break;default:this.usersPerPage=4;break}}}),computed:Object(l["a"])(Object(l["a"])({},Object(gt["c"])(["users","sortButtons"])),{},{isIE10:function(){try{var t=navigator.userAgent,e=/MSIE ([^;]*)/,a=e.exec(t)[1].split(".")[0];return 10===+a}catch(n){return!1}},totalUsers:function(){return this.users.length},countUsers:function(){return this.users?this.totalUsers:0},usersForTable:function(){var t=this,e=this.usersPerPage*this.page,a=e-this.usersPerPage;return this.users.filter((function(n){return t.users.indexOf(n)<e&&t.users.indexOf(n)>=a}))}}),components:{MainUsersTable:C,MainForm:ht,AppPagination:O},created:function(){this.loadUsersFromStorage(),this.updateSort(),this.updateUsersPerPage(),window.addEventListener("resize",this.updateUsersPerPage)}},kt=bt,Ct=(a("d397"),Object(_["a"])(kt,i,o,!1,null,null,null)),wt=Ct.exports,Dt={name:"App",components:{MainPage:wt}},yt=Dt,xt=(a("89f2"),Object(_["a"])(yt,s,r,!1,null,null,null)),Pt=xt.exports,Ot=(a("7db0"),a("2909")),Vt=a("2f80");n["a"].use(gt["a"]);var jt=new gt["a"].Store({state:{users:Vt.users,sortButtons:[{title:"Дата регистрации",sortId:"registration",smallest:!0,largest:!1},{title:"ФИО"},{title:"Дата рождения",sortId:"date",smallest:!1,largest:!1},{title:"Email"},{title:"Телефон"},{title:"Дистанция, км",sortId:"distance",smallest:!1,largest:!1},{title:"Сумма взноса, руб.",sortId:"payment",smallest:!1,largest:!1}]},mutations:{addUser:function(t,e){t.users=e},sortUsers:function(t,e){var a=e.upd,n=e.id,s=e.sortTo,r=function(){var e=t.users.sort((function(t,e){return t[n]-e[n]}));s&&e.reverse(),t.sortButtons=a,t.users=e},i=function(){var e=t.users.sort((function(t,e){var a=t[n].split("."),s=e[n].split(".");return a=+a[0]+100*+a[1]+1e3*+a[2],s=+s[0]+100*+s[1]+1e3*+s[2],a-s}));s&&e.reverse(),t.sortButtons=a,t.users=e};switch(n){case"date":case"registration":i();break;default:r();break}}},actions:{loadUsersFromStorage:function(t){var e=JSON.parse(localStorage.getItem("charity-run-app"));if(e){e=e.map((function(t){return Object(l["a"])(Object(l["a"])({},t),{},{date:new Date(t.date).toLocaleDateString(),registration:new Date(t.registration).toLocaleDateString()})}));var a=[].concat(Object(Ot["a"])(t.state.users),Object(Ot["a"])(e));t.commit("addUser",a)}},addUser:function(t,e){var a=t.state.users.length+1,n=[].concat(Object(Ot["a"])(t.state.users),[Object(l["a"])(Object(l["a"])({},e),{},{id:a,date:new Date(e.date).toLocaleDateString(),registration:new Date(e.registration).toLocaleDateString()})]);t.commit("addUser",n);var s=JSON.parse(localStorage.getItem("charity-run-app"));if(s){var r=[].concat(Object(Ot["a"])(s),[Object(l["a"])(Object(l["a"])({},e),{},{id:"by-user".concat(a)})]);localStorage.setItem("charity-run-app",JSON.stringify(r))}else localStorage.setItem("charity-run-app",JSON.stringify([Object(l["a"])(Object(l["a"])({},e),{},{id:"by-user".concat(a)})]))},updateSort:function(t){var e=t.state.sortButtons,a=e.find((function(t){return!0===t.smallest||!0===t.largest})),n=a.sortId,s=!a.smallest;t.commit("sortUsers",{upd:e,id:n,sortTo:s})},sortUsers:function(t,e){var a=t.state.sortButtons.find((function(t){return t.sortId===e}));a.smallest?(a.smallest=!1,a.largest=!0):(a.smallest=!0,a.largest=!1);var n=t.state.sortButtons.map((function(t){return t.sortId===e?a:Object(l["a"])(Object(l["a"])({},t),{},{smallest:!1,largest:!1})})),s=!a.smallest;t.commit("sortUsers",{upd:n,id:e,sortTo:s})}}});n["a"].config.productionTip=!1,new n["a"]({store:jt,render:function(t){return t(Pt)}}).$mount("#app")},6368:function(t,e,a){},"89f2":function(t,e,a){"use strict";var n=a("c9d2"),s=a.n(n);s.a},b9b2:function(t,e,a){"use strict";var n=a("c052"),s=a.n(n);s.a},c052:function(t,e,a){},c4c5:function(t,e,a){},c9d2:function(t,e,a){},ca53:function(t,e,a){t.exports=a.p+"img/runners.e8801d57.png"},d0b4:function(t,e,a){"use strict";var n=a("6368"),s=a.n(n);s.a},d229:function(t,e,a){},d397:function(t,e,a){"use strict";var n=a("390d"),s=a.n(n);s.a},dba4:function(t,e,a){"use strict";var n=a("064a"),s=a.n(n);s.a},dd24:function(t,e,a){"use strict";var n=a("f8ec"),s=a.n(n);s.a},f8ec:function(t,e,a){},ff6d:function(t,e,a){"use strict";var n=a("d229"),s=a.n(n);s.a}});
//# sourceMappingURL=app.9e2cb78f.js.map